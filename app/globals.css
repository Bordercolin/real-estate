@import "tailwindcss";

:root {
  /* Old-school horror palette */
  --background: #f1e8d2; /* aged paper */
  --dark: #17130f; /* ink */
  --red: #7a1414; /* dried blood */

  /* Extended tokens (used via CSS vars + Tailwind arbitrary values) */
  --paper: #f6efd9;
  --paper-2: #efe5cd;
  --ink: #17130f;
  --ink-muted: rgba(23, 19, 15, 0.72);
  --ink-faint: rgba(23, 19, 15, 0.55);
  --edge: rgba(23, 19, 15, 0.18);
  --edge-strong: rgba(23, 19, 15, 0.35);
  --blood: #7a1414;
  --blood-glow: rgba(122, 20, 20, 0.22);
}

@theme {
  --color-background: var(--background);
  --color-primary: var(--dark);
  --color-secondary: var(--red);
}

@layer base {
  html,
  body {
    height: 100%;
  }

  body {
    @apply bg-background text-primary antialiased;
    /* Paper texture + vignette */
    background-image: radial-gradient(
        1200px 600px at 50% -10%,
        rgba(122, 20, 20, 0.08),
        transparent 60%
      ),
      radial-gradient(
        900px 700px at 15% 10%,
        rgba(0, 0, 0, 0.08),
        transparent 55%
      ),
      radial-gradient(
        900px 700px at 85% 10%,
        rgba(0, 0, 0, 0.08),
        transparent 55%
      ),
      radial-gradient(
        1200px 900px at 50% 110%,
        rgba(0, 0, 0, 0.1),
        transparent 60%
      ),
      repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.015),
        rgba(0, 0, 0, 0.015) 1px,
        rgba(255, 255, 255, 0) 1px,
        rgba(255, 255, 255, 0) 6px
      );
    background-attachment: fixed;
  }

  /* Subtle film grain */
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background-image: radial-gradient(
        circle at 20% 30%,
        rgba(0, 0, 0, 0.05),
        transparent 35%
      ),
      radial-gradient(circle at 80% 60%, rgba(0, 0, 0, 0.04), transparent 35%),
      repeating-linear-gradient(
        90deg,
        rgba(0, 0, 0, 0.018),
        rgba(0, 0, 0, 0.018) 1px,
        rgba(0, 0, 0, 0) 2px,
        rgba(0, 0, 0, 0) 4px
      );
    mix-blend-mode: multiply;
    opacity: 0.25;
    z-index: 0;
  }

  main,
  nav,
  footer {
    position: relative;
    z-index: 1;
  }

  .title {
    @apply text-2xl font-bold tracking-tight;
  }

  h1,
  h2,
  h3,
  h4 {
    @apply font-serif tracking-tight;
    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.06);
  }

  h1 {
    @apply text-4xl font-bold;
  }

  h2 {
    @apply text-3xl font-bold;
  }

  h3 {
    @apply text-2xl font-bold;
  }

  h4 {
    @apply text-xl font-bold;
  }

  a {
    @apply underline-offset-4;
  }

  ::selection {
    background: rgba(122, 20, 20, 0.2);
  }
}

@layer components {
  /* Case-file / paper surfaces */
  .paper-card {
    background: linear-gradient(180deg, var(--paper), var(--paper-2));
    border: 1px solid var(--edge);
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.06), 0 12px 24px rgba(0, 0, 0, 0.08);
  }

  .paper-strip {
    background: linear-gradient(
      180deg,
      rgba(246, 239, 217, 0.92),
      rgba(239, 229, 205, 0.86)
    );
    border-bottom: 1px solid var(--edge);
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.06);
  }

  /* Rubber-stamp label */
  .stamp {
    @apply uppercase tracking-[0.16em];
    border: 1px solid rgba(122, 20, 20, 0.55);
    color: var(--blood);
    background: rgba(122, 20, 20, 0.06);
    box-shadow: 0 0 0 3px rgba(122, 20, 20, 0.05);
  }

  /* Redaction bar */
  .redacted {
    position: relative;
    display: inline-block;
    color: transparent;
    user-select: none;
  }
  .redacted::after {
    content: "";
    position: absolute;
    left: -0.1em;
    right: -0.1em;
    top: 0.55em;
    height: 0.95em;
    background: rgba(0, 0, 0, 0.78);
    transform: rotate(-1deg);
  }

  /* Typewriter-ish microcopy */
  .mono {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
      "Liberation Mono", "Courier New", monospace;
    letter-spacing: 0.02em;
  }
}
